(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{2034:(e,s,t)=>{Promise.resolve().then(t.bind(t,7821))},7821:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5155),o=t(2115);let r=()=>{let[e,s]=(0,o.useState)([]),[t,r]=(0,o.useState)(""),[n,l]=(0,o.useState)("");(0,o.useEffect)(()=>{r(document.cookie),l(window.location.href)},[]);let i=(e,t,a)=>{s(s=>[...s,{test:e,status:t,details:a,time:new Date().toLocaleTimeString()}])},c=async e=>{try{i("Route Test: ".concat(e),"\uD83E\uDDEA TESTING","Attempting to fetch...");let s=await fetch(e),t=await s.text();s.ok?i("Route Test: ".concat(e),"✅ SUCCESS","Status: ".concat(s.status)):i("Route Test: ".concat(e),"❌ FAILED","Status: ".concat(s.status," - ").concat(t.substring(0,100)))}catch(s){s instanceof Error&&i("Route Test: ".concat(e)," ERROR",s.message)}},d=async()=>{try{i("Login API","\uD83E\uDDEA TESTING","Attempting login...");let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"password123"})}),s=await e.json();e.ok?(i("Login API","✅ SUCCESS","Token received, cookies updated"),r(document.cookie)):i("Login API","❌ FAILED",s.message)}catch(e){e instanceof Error&&i("Login API"," ERROR",e.message)}},h=async()=>{try{i("Registration API","\uD83E\uDDEA TESTING","Attempting registration...");let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:"Debug User",email:"debug-".concat(Date.now(),"@example.com"),password:"password123"})}),t=await s.json();if(s.ok){var e;i("Registration API","✅ SUCCESS","User created: ".concat(null==(e=t.user)?void 0:e.email))}else i("Registration API","❌ FAILED",t.message)}catch(e){e instanceof Error&&i("Registration API"," ERROR",e.message)}},m=e=>{i("Direct Navigation","\uD83E\uDDEA TESTING","Going to ".concat(e,"...")),window.location.href=e};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 p-4",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4 mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-800",children:"\uD83D\uDEA8 EMERGENCY DEBUG MODE"}),(0,a.jsx)("p",{className:"text-red-700",children:"Let's find out exactly what's broken!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83C\uDF6A Current Cookies:"}),(0,a.jsx)("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:t||"No cookies found"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCCD Current URL:"}),(0,a.jsx)("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:n})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-6",children:[(0,a.jsx)("button",{onClick:()=>c("/api/auth/login"),className:"bg-blue-500 text-white p-2 rounded text-sm",children:"Test Login API"}),(0,a.jsx)("button",{onClick:()=>c("/dashboard"),className:"bg-green-500 text-white p-2 rounded text-sm",children:"Test Dashboard Route"}),(0,a.jsx)("button",{onClick:()=>c("/dashboard-emergency"),className:"bg-purple-500 text-white p-2 rounded text-sm",children:"Test Emergency Dashboard"}),(0,a.jsx)("button",{onClick:d,className:"bg-orange-500 text-white p-2 rounded text-sm",children:"Full Login Test"}),(0,a.jsx)("button",{onClick:h,className:"bg-indigo-500 text-white p-2 rounded text-sm",children:"Full Registration Test"}),(0,a.jsx)("button",{onClick:()=>m("/dashboard"),className:"bg-red-500 text-white p-2 rounded text-sm",children:"Force Dashboard"}),(0,a.jsx)("button",{onClick:()=>m("/dashboard-emergency"),className:"bg-yellow-500 text-white p-2 rounded text-sm",children:"Force Emergency Dashboard"}),(0,a.jsx)("button",{onClick:()=>{document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.clear(),sessionStorage.clear(),i("Clear Everything","✅ DONE","Cookies, localStorage, sessionStorage cleared"),r("")},className:"bg-gray-500 text-white p-2 rounded text-sm",children:"Clear Everything"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83E\uDDEA Test Results:"}),(0,a.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===e.length?(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No tests run yet. Click buttons above to start!"}):e.map((e,s)=>(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.test}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("div",{className:"text-sm mt-1",children:[(0,a.jsx)("span",{className:"mr-2",children:e.status}),(0,a.jsx)("span",{className:"text-gray-700",children:e.details})]})]},s))})]}),(0,a.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"\uD83D\uDD17 Manual Test URLs:"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Emergency Dashboard:"})," ",(0,a.jsx)("a",{href:"/dashboard-emergency",className:"text-blue-600 underline",children:"http://localhost:3000/dashboard-emergency"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Regular Dashboard:"})," ",(0,a.jsx)("a",{href:"/dashboard",className:"text-blue-600 underline",children:"http://localhost:3000/dashboard"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Login:"})," ",(0,a.jsx)("a",{href:"/login",className:"text-blue-600 underline",children:"http://localhost:3000/login"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"This Debug Page:"})," ",(0,a.jsx)("a",{href:"/debug",className:"text-blue-600 underline",children:"http://localhost:3000/debug"})]})]})]})]})})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=2034)),_N_E=e.O()}]);